{% schema %}
{
  "name": "Home Product Collection",
  "settings": [],
  "blocks": [
    {
      "type": "product_card",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Select product"
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [{
    "name": "Home Product Collection"
  }]
}
{% endschema %}
{% stylesheet %}
.swiper {
  padding: 20px 0;
}
.product-card {
  perspective: 1000px;
}
.flip-card {
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  position: relative;
}
.flip-card:hover {
  transform: rotateY(180deg);
}
.flip-card-front,
.flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border: 1px solid #eee;
  border-radius: 8px;
  overflow: hidden;
}
.flip-card-front {
  background: #fff;
  z-index: 2;
}
.flip-card-back {
  background: #f9f9f9;
  transform: rotateY(180deg);
  padding: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.product-image img {
  width: 100%;
  display: block;
}
{% endstylesheet %}

<div class="swiper mySwiper">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      {% assign product = all_products[block.settings.product] %}
      {% if product %}
      <div class="swiper-slide product-card">
        <div class="flip-card">
          <div class="flip-card-front">
            <div class="product-image">
              <img src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}">
            </div>
            <div class="product-title" style="padding: 10px; text-align: center;">
              {{ product.title }}
            </div>
          </div>
          <div class="flip-card-back">
            <div class="product-details">
              <p>{{ product.description | strip_html | truncate: 100 }}</p>
              <p><strong>{{ product.price | money }}</strong></p>
              <a href="{{ product.url }}" class="btn" style="margin-top: 10px; display: inline-block;">View Product</a>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

{% javascript %}
document.addEventListener('DOMContentLoaded', function () {
  new Swiper('.mySwiper', {
    slidesPerView: 1,
    spaceBetween: 20,
    breakpoints: {
      768: {
        slidesPerView: 2
      },
      1024: {
        slidesPerView: 2
      }
    }
  });
});
{% endjavascript %}

